!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SearchTap",[],t):"object"==typeof exports?exports.SearchTap=t():e.SearchTap=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),a=n(8),s=o(a);window.Promise||(window.Promise=s["default"]);var f=function(){function e(t){r(this,e),this.key=t}return i(e,[{key:"search",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={query:e,fields:n.fields||[],searchFields:n.searchFields||[],facets:n.facets||[],offset:n.offset||0,pageSize:n.pageSize||10,filters:n.filters||[],filter:n.filter||null,sort:n.sort||[],highlightFields:n.highlightFields||[],facetFilters:n.facetFilters||{},facetCount:n.facetCount||10,typoTolerance:n.typoTolerance||1,geo:n.geo||{}},r={method:"POST",url:this.getQueryUrl(t),body:JSON.stringify(o),headers:{"Content-Type":"application/json","X-Auth-Token":this.key}};return new s["default"](function(e,t){(0,c["default"])(r,function(n,o,r){n&&t(n),e(JSON.parse(r))})})}},{key:"getQueryUrl",value:function(e){return"https://api.searchtap.io/v1/collections/"+e+"/query"}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<e.length;n++)t(e[n])}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,n){var o=e;return l(t)?(n=t,"string"==typeof e&&(o={uri:e})):o=p(t,{uri:e}),o.callback=n,o}function u(e,t,n){return t=i(e,t,n),c(t)}function c(e){function t(){4===f.readyState&&i()}function n(){var e=void 0;if(e=f.response?f.response:f.responseText||a(f),g)try{e=JSON.parse(e)}catch(t){}return e}function o(e){return clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,_)}function i(){if(!p){var t;clearTimeout(h),t=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var o=_,r=null;return 0!==t?(o={body:n(),statusCode:t,method:m,headers:{},url:y,rawRequest:f},f.getAllResponseHeaders&&(o.headers=d(f.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),s(r,o,o.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var c=!1,s=function(t,n,o){c||(c=!0,e.callback(t,n,o))},f=e.xhr||null;f||(f=e.cors||e.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var l,p,h,y=f.url=e.uri||e.url,m=f.method=e.method||"GET",v=e.body||e.data,w=f.headers=e.headers||{},T=!!e.sync,g=!1,_={body:void 0,headers:{},statusCode:0,method:m,url:y,rawRequest:f};if("json"in e&&e.json!==!1&&(g=!0,w.accept||w.Accept||(w.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(w["content-type"]||w["Content-Type"]||(w["Content-Type"]="application/json"),v=JSON.stringify(e.json===!0?v:e.json))),f.onreadystatechange=t,f.onload=i,f.onerror=o,f.onprogress=function(){},f.onabort=function(){p=!0},f.ontimeout=o,f.open(m,y,!T,e.username,e.password),T||(f.withCredentials=!!e.withCredentials),!T&&e.timeout>0&&(h=setTimeout(function(){if(!p){p=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}},e.timeout)),f.setRequestHeader)for(l in w)w.hasOwnProperty(l)&&f.setRequestHeader(l,w[l]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(v||null),f}function a(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function s(){}var f=n(2),l=n(3),d=n(4),p=n(7);e.exports=u,u.XMLHttpRequest=f.XMLHttpRequest||s,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:f.XDomainRequest,o(["get","put","post","patch","head","delete"],function(e){u["delete"===e?"del":e]=function(t,n,o){return n=i(t,n,o),n.method=e.toUpperCase(),c(n)}})},function(e,t){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(t,function(){return this}())},function(e,t){function n(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var o=Object.prototype.toString},function(e,t,n){var o=n(5),r=n(6),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return r(o(e).split("\n"),function(e){var n=e.indexOf(":"),r=o(e.slice(0,n)).toLowerCase(),u=o(e.slice(n+1));"undefined"==typeof t[r]?t[r]=u:i(t[r])?t[r].push(u):t[r]=[t[r],u]}),t}},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){function o(e,t,n){if(!c(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===a.call(e)?r(e,t,n):"string"==typeof e?i(e,t,n):u(e,t,n)}function r(e,t,n){for(var o=0,r=e.length;o<r;o++)s.call(e,o)&&t.call(n,e[o],o,e)}function i(e,t,n){for(var o=0,r=e.length;o<r;o++)t.call(n,e.charAt(o),o,e)}function u(e,t,n){for(var o in e)s.call(e,o)&&t.call(n,e[o],o,e)}var c=n(3);e.exports=o;var a=Object.prototype.toString,s=Object.prototype.hasOwnProperty},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e}e.exports=n;var o=Object.prototype.hasOwnProperty},function(e,t,n){(function(t){!function(n){function o(){}function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function u(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?c:a)(t.promise,e._value);var o;try{o=n(e._value)}catch(r){return void a(t.promise,r)}c(t.promise,o)}))}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void l(r(n,t),e)}e._state=1,e._value=t,s(e)}catch(o){a(e,o)}}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,a(t,e))})}catch(o){if(n)return;n=!0,a(t,o)}}var d=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return u(this,new f(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function o(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(e){o(i,e)},n)}t[i]=u,0===--r&&e(t)}catch(a){n(a)}}if(0===t.length)return e([]);for(var r=t.length,i=0;i<t.length;i++)o(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)})},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},"undefined"!=typeof e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(t,n(9).setImmediate)},function(e,t,n){(function(e,o){function r(e,t){this._id=e,this._clearFn=t}var i=n(10).nextTick,u=Function.prototype.apply,c=Array.prototype.slice,a={},s=0;t.setTimeout=function(){return new r(u.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(u.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=s++,o=!(arguments.length<2)&&c.call(arguments,1);return a[n]=!0,i(function(){a[n]&&(o?e.apply(null,o):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof o?o:function(e){delete a[e]}}).call(t,n(9).setImmediate,n(9).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function u(){y&&p&&(y=!1,p.length?h=p.concat(h):m=-1,h.length&&c())}function c(){if(!y){var e=r(u);y=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,y=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var f,l,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(e){l=o}}();var p,h=[],y=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||y||r(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}}])});
//# sourceMappingURL=searchtap.min.js.map
